!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);throw(f=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",f}c=n[i]={exports:{}},e[i][0].call(c.exports,function(r){return o(e[i][1][r]||r)},c,c.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){window.cedilla={api:require("./modules/api"),dom:require("./modules/dom"),str:require("./modules/str"),arr:require("./modules/arr"),cookies:require("./modules/cookies"),render:require("./modules/render"),DEBUG:!1},window.รง=window.cedilla},{"./modules/api":2,"./modules/arr":3,"./modules/cookies":4,"./modules/dom":5,"./modules/render":6,"./modules/str":7}],2:[function(require,module,exports){let def=(options,key)=>options[key]||api.default[key],api=(route,data={},opt={})=>{let fetch_route=def(opt,"webhook")+"?_cedilla_route="+encodeURI(route),fetch_opt={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:def(opt,"fetch_mode"),credentials:def(opt,"fetch_credentials"),body:JSON.stringify(data)};return new Promise((resolve,reject)=>fetch(fetch_route,fetch_opt).then(res=>res.json()).then(res=>{res.time>api.default.response_max_warning_time&&console.warn("/"+route+"<br>Time: "+res.time,"Slow response"),res.error?triggerGlobalError(res.error)||reject(res.error.message,res.error.code):resolve(res.response)}))},triggerGlobalError=(api.default={webhook:"api.php",fetch_mode:"same-origin",fetch_credentials:"same-origin",response_max_warning_time:3},api.errorCallback={default:message=>(cedilla.DEBUG&&console.error(message),!1),route_undefined:message=>(cedilla.DEBUG&&console.error(message),!1),route_invalid:message=>(cedilla.DEBUG&&console.error(message),!1),check:message=>(cedilla.DEBUG&&console.error(message),!1),param_required:message=>(cedilla.DEBUG&&console.error(message),!1),param_not_required:message=>(cedilla.DEBUG&&console.error(message),!1),param_invalid:message=>(cedilla.DEBUG&&console.error(message),!1),internal_error:message=>(cedilla.DEBUG&&console.error(message),!1)},err=>{switch(err.code){case"ROUTE_UNDEFINED":return api.errorCallback.route_undefined(err.message,err.code);case"ROUTE_INVALID":return api.errorCallback.route_invalid(err.message,err.code);case"CHECK_NOT_PASS":return api.errorCallback.check(err.message,err.code);case"PARAM_REQUIRED":return api.errorCallback.param_required(err.message,err.code);case"PARAM_NOT_REQUIRED":return api.errorCallback.param_not_required(err.message,err.code);case"PARAM_INVALID":return api.errorCallback.param_invalid(err.message,err.code);case"INTERNAL_ERROR":return api.errorCallback.internal_error(err.message,err.code)}return api.errorCallback.default(err.message,err.code)});module.exports=api},{}],3:[function(require,module,exports){var arr={pickRandom:array=>array[Math.floor(Math.random()*array.length)]};module.exports=arr},{}],4:[function(require,module,exports){let cookies={default:{expiration_time:864e5},setCookie:(c_name,c_val,ex_time=null,timeInSecond=!1)=>{var d=new Date,timeInSecond=(d.setTime(d.getTime()+(ex_time?timeInSecond?1e3*ex_time:24*ex_time*60*60*1e3:cookies.default.expiration_time)),"expires="+d.toUTCString());document.cookie=c_name+"="+c_val+";"+timeInSecond+";path=/"},getCookie:c_name=>{var name=c_name+"=",ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i];for(;" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},deleteCookie:c_name=>{document.cookie=c_name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/"}};module.exports=cookies},{}],5:[function(require,module,exports){let str=require("./str"),dom=(tagName,options={})=>{var el=document.createElement(tagName);if("string"==typeof options)el.innerHTML=options;else if(options instanceof Element)el.append(options);else if(options instanceof Array)for(let i=0;i<options.length;i++)el.append(options[i]);else{if("function"==typeof options.click&&(el.onclick=options.click),"string"==typeof options.class)el.className=options.class;else if("object"==typeof options.class)for(let i=0;i<options.class.length;i++)el.classList.add(options.class[i]);if("object"==typeof options.data){var d=Object.keys(options.data);for(let i=0;i<d.length;i++){var k=d[i];el.dataset[k]=options.data[k]}}void 0!==options.content&&dom_append_content(options.content,el)}return el},dom_append_content=(content,el)=>{if(content instanceof Array)for(let i=0;i<content.length;i++)dom_append_content(content[i],el);else content instanceof Element?el.append(content):el.innerHTML=""+content};dom.q=query=>document.querySelector(query),dom.qAll=query=>document.querySelectorAll(query),dom.forAll=(query,cb)=>document.querySelectorAll(query).forEach(cb);var possibleEvents=["abort","afterprint","animationend","animationiteration","animationstart","beforeprint","beforeunload","blur","canplay","canplaythrough","change","click","contextmenu","copy","cut","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","ended","error","focus","focusin","focusout","fullscreenchange","fullscreenerror","hashchange","input","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","message","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","offline","online","open","pagehide","paste","pause","play","playing","progress","ratechange","reset","resize","scroll","search","seeked","seeking","select","show","stalled","submit","suspend","timeupdate","toggle","touchcancel","touchend","touchmove","touchstart","transitionend","unload","volumechange","waiting","wheel"];for(let i=0;i<possibleEvents.length;i++){let ev=possibleEvents[i];dom.forAll[ev]=(query,cb)=>document.querySelectorAll(query).forEach(item=>{item.addEventListener(ev,cb)})}dom.makeTable=data=>{let header=[];var rows=[];if(data instanceof Array){header=Object.keys(data[0]);for(let i=0;i<data.length;i++){var v=data[i];rows[i]=[];for(let j=0;j<header.length;j++)rows[i][j]=v[header[j]]}}else for(let i=0,l=data[(header=Object.keys(data))[0]].length;i<l;i++){rows[i]=[];for(let j=0;j<header.length;j++){var h=header[j];rows[i][j]=data[h][i]}}var thead=cedilla.dom("tr");for(let i=0;i<header.length;i++)thead.append(dom("th",str.titled(header[i])));var trows=[thead];for(let i=0;i<rows.length;i++){var row=dom("tr");for(let j=0;j<rows[i].length;j++)row.append(dom("td",rows[i][j]));trows.push(row)}return dom("table",{content:trows})},module.exports=dom},{"./str":7}],6:[function(require,module,exports){class Render{constructor(templateName){if(void 0===window.Handlebars)throw new Error("Cedilla Render require Handlebars to work");this.templateName=templateName,this.template=null,this.f=null,this.loading=new Promise(r=>r());var tDom=document.getElementById(templateName);tDom?(this.templatePath="#",this.template=tDom.innerHTML,this._compile()):(this.templatePath=render.default.templates_dir+"/"+templateName+".hbs",this.loading=fetch(this.templatePath,{mode:"same-origin",credentials:"same-origin"}).then(res=>res.text()).then(res=>{this.template=res,this._compile()}))}_compile(){this.f=window.Handlebars.compile(this.template)}with(data){return this.data=data,this}on(selector,overwrite=!1){return new Promise(async resolve=>{await this.loading;let rendered=this.f(this.data);document.querySelectorAll(selector).forEach(el=>{overwrite?el.innerHTML=rendered:el.innerHTML+=rendered}),resolve()})}}let _render_pool={},render=templateName=>(void 0===_render_pool[templateName]&&(_render_pool[templateName]=new Render(templateName)),_render_pool[templateName]);render.default={templates_dir:"templates"},module.exports=render},{}],7:[function(require,module,exports){var str={zerofill:v=>(0<=(v=parseInt(v))&&v<=9?"0":"")+v,firstUp:(v,forceLower=!1)=>v.slice(0,1).toUpperCase()+(forceLower?v.slice(1).toLowerCase():v.slice(1)),titled:(v,forceLower=!1,separators=["_",":"])=>{let lastC="",newV="";for(let i=0;i<v.length;i++){let c=v[i];separators.includes(c)&&(c=" "),(0==i||lastC.match(/^\s$/))&&"a"<=c&&c<="z"?c=c.toUpperCase():forceLower&&0!=i&&lastC.match(/^\S$/)&&"A"<=c&&c<="Z"&&(c=c.toLowerCase()),newV+=c,lastC=c}return newV},htmlStrip:v=>(new DOMParser).parseFromString(v,"text/html").body.textContent,htmlEscape:v=>v.replace(/&/g,"&amp;").replace(/'/g,"&#39;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")};module.exports=str},{}]},{},[1]);
